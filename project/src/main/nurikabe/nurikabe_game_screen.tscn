[gd_scene format=3 uid="uid://c1ikxk7sf1v"]

[ext_resource type="PackedScene" uid="uid://b06aw2k2o1thk" path="res://src/main/nurikabe/game_board.tscn" id="1_0ph7c"]
[ext_resource type="Script" uid="uid://dkfhvt7xta6qi" path="res://src/main/nurikabe/nurikabe_game_screen.gd" id="1_nc88o"]
[ext_resource type="PackedScene" uid="uid://dtev03a35ehu4" path="res://src/main/nurikabe/refresher.tscn" id="3_1cqpy"]
[ext_resource type="PackedScene" uid="uid://diafqm0jkanve" path="res://src/main/monster/sim/sim_monster.tscn" id="4_nctqi"]
[ext_resource type="PackedScene" uid="uid://cf8wyvww44vbg" path="res://src/main/monster/player/player_monster.tscn" id="7_21uqv"]
[ext_resource type="PackedScene" uid="uid://bcvt254axwueq" path="res://src/main/monster/sim/naive_solver.tscn" id="7_bxie6"]
[ext_resource type="PackedScene" uid="uid://cviiye0styout" path="res://src/main/nurikabe/tutorial_overlay.tscn" id="8_aypp7"]
[ext_resource type="PackedScene" uid="uid://h73338s4fipn" path="res://src/main/ui/command_palette.tscn" id="8_mwwr5"]
[ext_resource type="FontFile" uid="uid://pq4x38hcbx4h" path="res://assets/main/ui/baloo2.ttf" id="8_n1qax"]
[ext_resource type="Script" uid="uid://48je0hlydow6" path="res://src/main/ui/version_label.gd" id="10_r5o04"]
[ext_resource type="PackedScene" uid="uid://dqoviysu1nmyw" path="res://src/main/nurikabe/results_overlay.tscn" id="16_2bf7t"]

[sub_resource type="FontVariation" id="FontVariation_n1qax"]
base_font = ExtResource("8_n1qax")
variation_opentype = {
2003265652: 600
}
spacing_top = -12
spacing_bottom = -12

[sub_resource type="FontVariation" id="FontVariation_r5o04"]
base_font = ExtResource("8_n1qax")
variation_opentype = {
2003265652: 600
}
spacing_top = -12
spacing_bottom = -12

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nctqi"]
size = Vector2(1000, 10000)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bxie6"]
size = Vector2(10000, 1000)

[node name="GameScreen" type="Control" unique_id=913074349]
y_sort_enabled = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("1_nc88o")
target_sim_count = 3
target_puzzle_count = 15

[node name="GameBoards" type="Control" parent="." unique_id=199475706]
unique_name_in_owner = true
y_sort_enabled = true
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="GameBoard" parent="GameBoards" unique_id=501943307 instance=ExtResource("1_0ph7c")]
visible = false
layout_mode = 0
offset_left = 741.0
offset_top = 311.0
offset_right = 741.0
offset_bottom = 311.0
grid_string = " 2                 2
             2      
   2     7          
                    
             3   3  
     2         3    
 2     4            
                    
   1         2   4  "

[node name="Refresher" parent="." unique_id=1922256761 instance=ExtResource("3_1cqpy")]
layout_mode = 0
offset_left = 0.0
offset_top = 0.0
offset_right = 300.0
offset_bottom = 200.0

[node name="SimMonster" parent="." unique_id=1258642333 instance=ExtResource("4_nctqi")]
position = Vector2(1255, 234)

[node name="Player" parent="." unique_id=1629176103 instance=ExtResource("7_21uqv")]
unique_name_in_owner = true
position = Vector2(961, 540)
platform_floor_layers = 4294967295
skin = 4

[node name="Camera2D" type="Camera2D" parent="Player" unique_id=2047494306]
zoom = Vector2(1.2, 1.2)

[node name="CommandPalette" parent="." unique_id=1368678133 instance=ExtResource("8_mwwr5")]
unique_name_in_owner = true

[node name="HUD" type="CanvasLayer" parent="." unique_id=1743850001]

[node name="Controls" type="GridContainer" parent="HUD" unique_id=1966256132]
custom_minimum_size = Vector2(1000, 1000)
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 40.0
offset_top = -1040.0
offset_right = 1040.0
offset_bottom = -40.0
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_constants/h_separation = 30
theme_override_constants/v_separation = 8
columns = 2

[node name="Spacer" type="Control" parent="HUD/Controls" unique_id=97767343]
layout_mode = 2
size_flags_vertical = 3

[node name="Spacer2" type="Control" parent="HUD/Controls" unique_id=27563744]
layout_mode = 2

[node name="Label" type="Label" parent="HUD/Controls" unique_id=1389433984]
layout_mode = 2
size_flags_vertical = 8
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_n1qax")
theme_override_font_sizes/font_size = 30
text = "W/A/S/D"
horizontal_alignment = 2

[node name="Label2" type="Label" parent="HUD/Controls" unique_id=2029629421]
layout_mode = 2
size_flags_vertical = 8
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_n1qax")
theme_override_font_sizes/font_size = 30
text = "Move"

[node name="Label3" type="Label" parent="HUD/Controls" unique_id=466009511]
layout_mode = 2
size_flags_vertical = 8
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_n1qax")
theme_override_font_sizes/font_size = 30
text = "Z/X"
horizontal_alignment = 2

[node name="Label4" type="Label" parent="HUD/Controls" unique_id=1041128441]
layout_mode = 2
size_flags_vertical = 8
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_n1qax")
theme_override_font_sizes/font_size = 30
text = "Undo, Redo"

[node name="Label5" type="Label" parent="HUD/Controls" unique_id=2128368019]
layout_mode = 2
size_flags_vertical = 8
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_n1qax")
theme_override_font_sizes/font_size = 30
text = "R"
horizontal_alignment = 2

[node name="Label6" type="Label" parent="HUD/Controls" unique_id=1449754288]
layout_mode = 2
size_flags_vertical = 8
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_n1qax")
theme_override_font_sizes/font_size = 30
text = "Reset Puzzle"

[node name="Label7" type="Label" parent="HUD/Controls" unique_id=899214976]
layout_mode = 2
size_flags_vertical = 8
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_n1qax")
theme_override_font_sizes/font_size = 30
text = "T"
horizontal_alignment = 2

[node name="Label8" type="Label" parent="HUD/Controls" unique_id=1834374017]
layout_mode = 2
size_flags_vertical = 8
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_n1qax")
theme_override_font_sizes/font_size = 30
text = "Tutorial"

[node name="VersionLabel" type="Label" parent="HUD" unique_id=1388148631]
custom_minimum_size = Vector2(1000, 0)
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -73.0
offset_top = -23.0
offset_right = -40.0
offset_bottom = -40.0
grow_horizontal = 0
grow_vertical = 0
pivot_offset = Vector2(1458, -1112)
theme_override_colors/font_outline_color = Color(0.3019608, 0.3019608, 0.3019608, 1)
theme_override_constants/outline_size = 18
theme_override_fonts/font = SubResource("FontVariation_r5o04")
theme_override_font_sizes/font_size = 30
text = "v1234145"
horizontal_alignment = 2
script = ExtResource("10_r5o04")

[node name="ResultsOverlay" parent="." unique_id=1942560557 instance=ExtResource("16_2bf7t")]
unique_name_in_owner = true
visible = false

[node name="TutorialOverlay" parent="." unique_id=1610644807 instance=ExtResource("8_aypp7")]
unique_name_in_owner = true
visible = false

[node name="StaticBody2D" type="StaticBody2D" parent="." unique_id=181064133]

[node name="Left" type="CollisionShape2D" parent="StaticBody2D" unique_id=789410393]
position = Vector2(-5000, 0)
shape = SubResource("RectangleShape2D_nctqi")

[node name="Top" type="CollisionShape2D" parent="StaticBody2D" unique_id=876951006]
position = Vector2(0, -5000)
shape = SubResource("RectangleShape2D_bxie6")

[node name="Bottom" type="CollisionShape2D" parent="StaticBody2D" unique_id=145169454]
position = Vector2(0, 5000)
shape = SubResource("RectangleShape2D_bxie6")

[node name="Right" type="CollisionShape2D" parent="StaticBody2D" unique_id=1071941437]
position = Vector2(5000, 0)
shape = SubResource("RectangleShape2D_nctqi")

[node name="NaiveSolver" parent="." unique_id=2068909127 instance=ExtResource("7_bxie6")]

[connection signal="puzzle_finished" from="GameBoards/GameBoard" to="ResultsOverlay" method="_on_game_board_puzzle_finished"]
[connection signal="refresh_requested" from="Refresher" to="." method="_on_refresher_refresh_requested"]
[connection signal="command_entered" from="CommandPalette" to="." method="_on_command_palette_command_entered"]
